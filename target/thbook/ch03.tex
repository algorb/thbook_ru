\eject

\vbox{\hsize=93.2mm\baselineskip=12pt \rightline{\eightit Невозможно дважды войти в одну реку.} \pic{herakl.pdf} \vskip1pt \eightrm \rightline{---Heraclitus of Ephesus, {\eightmit 6}th/{\eightmit 5}th century BC} } 

\chapter Обработка данных. 

Помимо файлов данных, содержащих данные съемки, Therion использует файл конфигурации, содержащий инструкции о том, как данные должны обрабатываться. 

\subchapter Конфигурационный файл. 

Имя конфигурационного файла можно указать в качестве аргумента для Therion'а. По умолчанию Therion ищет файл с именем |thconfig| в текущем рабочем каталоге. Он обрабатывается как любой другой файл (т.е. одна команда на строку, пустые строки или строки, начинающиеся с `|#|', игнори\-руются; строки, заканчивающиеся на обратную косую черту, продолжаются в следующей строке.) Ниже список поддерживаемых в данный момент команд.
 

\subsubchapter `system'. Позволяет выполнять системные команды во время компиляции\[Например, чтобы открыть или обновить внешний просмоторщик PDF.]. Обычно Therion ожидает завершения подпроцесса. Если вы хотите продолжить ком\-пиляцию без ожидания, используйте команду |<command> &| для Linux и |start <command>| для Windows. 

\subsubchapter `encoding'. 

Работает аналогично команде |encoding| в файлах данных -- задает кодировку символов. 

\subsubchapter `language'. \syntax

\list

* |language <xx_[YY]>| \endlist

\endsyntax

\NEW{5.3}Устанавливает язык вывода для переводимых текстов. 

\subsubchapter `cs'. 

\syntax

\list

* |cs <система координат>| \endlist

\endsyntax

\NEW{5.3}Вне команды |layout| определяет систему координат для вывода. Невозможно указать несколько систем координат для разных выходных данных (послед\-нее указание |cs| используется для всех выходных файлов). 

Если |cs| не определяется в файле конфигурации, то будет использован первый |cs| в файлах данных. 

Внутри |layout| определяется система координат для последующих данных о местоположении (|origin|, |grid-origin|). 

\subsubchapter `sketch-warp'. 

\syntax

\list

* |sketch-warp <алгоритм>| \endlist

\endsyntax

Указывает, какой алгоритм преобразования скрапа (морфинг) использовать. Возможные алгоритмы: |line| -- по умолчанию; |plaquette| -- разработанный Marco Corvi. 

\subsubchapter `input'. 

Работает как команда |input| в файлах данных -- подключает другие файлы. 

\subsubchapter `source'. 

\description

Указывает, какие файлы съемки (данных) Therion должны читать. Здесь вы можете указать несколько файлов; по одной в каждой строке. Вы также можете указать их с помощью опции |-s| командной строки (см. ниже). 

Также можно ввести некоторые небольшие фрагменты кода непосредственно в файле конфигурации, используя многострочный синтаксис. \enddescription

\syntax

\hfill\break|source <имя файла>|\hfill\break или\hfill\break |source|\hfill\break {\qquad\it\dots команды Therion'а\dots}\hfill\break |endsource| \endsyntax

\arguments

* |<имя файла>| \endarguments

\subsubchapter `select'. 

\description

выбирает объекты (съемки и карты) для экспорта. По умолчанию выбира\-ются все объекты съемки. Если карта не выбрана, то выбираются все скрапы принадлежащие выбранным съемкам. 

Если в данных нет скрапов или карт, то на карте будет отображаться нитка хода из всех съемок. 

При экспорте карт в разных проекциях вам нужно выбирать их для каждой проекции отдельно. \enddescription

\syntax

|select <объект> [ОПЦИИ]| \endsyntax

\arguments

* |<объект>| = любая съемка или карта, имеющие идентификатор ID. \endarguments

\options

* |recursive <on/off>| = действует только при выборе съемки. По умолчанию установлен в |on|, все подсъемки данной съемки рекурсивно выбираются/не выбираются. 

* |map-level <число>| = действует только при выборе карты. Определяет уровень, на котором прекращается расширение карты для экспорта в виде атласа. По умолчанию используется 0; если указано `basic', расширение выполня\-ется до основных карт (т.е. все). {\it Примечание:} Предварительный просмотр карт отображается только в соответствии с картами в текущем |map-level|. 

* |chapter-level <число>| = действует только при выборе карты. Определяет уровень, при котором прекращается расширение главы для экспорта в виде атласа. По умолчанию используется 0; если используется `|-|' или `|.|', то для этой карты не экспортируется ни одна глава. Если опция |title-pages| в |layout| включена, то каждая глава начинается с титульной страницы. \endoptions

\subsubchapter `unselect'. 

\description

Отменяет выбор объектов для экспорта. \enddescription

\syntax

|unselect <объект> [ОПЦИИ]| \endsyntax

\arguments

Так же, как и в команде |select|. \endarguments

\options

Так же, как и в команде |select|. \endoptions

\subsubchapter `text'. 

\description

Задает перевод текста по умолчанию для вывода. \enddescription

\syntax

|text <ID языка> <therion текст> <перевод>| \endsyntax

\arguments

* |<ID языка>| = стандартный идентификатор языка ISO (например, |en| или |en_GB|). * |<therion текст>| = текст Therion'а для перевода. Список текстов и доступных переводов смотрите в файле |thlang/texts.txt|. \endarguments

\subsubchapter `layout'. 

\description

Задает макет для 2D-карт. Настройки, применяемые к режиму атласа, отме\-чены `A'; к режиму карт -- `M'. \enddescription

\syntax

|layout <id> [ОПЦИИ]
	copy <id исходного макета>
	cs <coordinate system>
	north <true/grid>
	scale <длина изображения> <реальная длина>
	base-scale <длина изображения> <реальная длина>
	units <metric/imperial>
	rotate <число>
	symbol-set <набор символов>
	symbol-assign <point/line/area/group/special> <тип символа>
		<набор символов>
	symbol-hide <point/line/area/group/special> <тип символа>
	symbol-show <point/line/area/group/special> <тип символа>
	symbol-colour <point/line/area/group/special> <тип символа> <цвет>
	min-symbol-scale <масштаб>
	fonts-setup <tinysize> <smallsize> <normalsize> <largesize> <hugesize>
	size <width> <height> <units>
	overlap <value> <units>
	page-setup <dimensions> <units>
	page-numbers <on/off>
	exclude-pages <on/off> <list>
	title-pages <on/off>
	nav-factor <factor>
	nav-size <x-size> <y-size>
	transparency <on/off>
	opacity <value>
	surface <top/bottom/off>
	surface-opacity <value>
	sketches <on/off>
	layers <on/off>
	grid <off/top/bottom>
	grid-origin <x> <y> <x> <units>
	grid-size <x> <y> <z> <units>
	grid-coords <off/border/all>
	origin <x> <y> <z> <units>
	origin-label <x-label> <y-label>
	own-pages <number>
	page-grid <on/off>
	legend <on/off/all>
	legend-columns <number>
	legend-width <n> <units>
	map-comment <string>
	map-header <x> <y> <off/n/s/e/w/ne/nw/se/sw/center>
	map-header-bg <on/off>
	map-image <x> <y> <n/s/e/w/ne/nw/se/sw/center> <filename>
	statistics <explo/topo/carto/copyright all/off/number>
		<explo/topo-length on/off>
	scale-bar <length> <units>
	survey-level <N/all>
	language <xx[_YY]>
	colour/color <item> <colour>
	debug <on/all/first/second/scrap-names/station-names/off>
	doc-author <string>
	doc-keywords <string>
	doc-subject <string>
	doc-title <string>
	code <metapost/tex-map/tex-atlas>
	endcode
endlayout| \endsyntax

\arguments

|<id>| = идентификатор макета (используется в команде |export|). \endarguments

\comopt * |copy <id исходного макета>| = устанавливаются свойства макета, которые бе\-рутся из данных исходного макета. 

{\it Относящиеся к представлениям в виде карт:}\Nobreak 

* |scale <длина изображения> <реальная длина>| = устанавливает масштаб выходной карты или атласа (M, A; по умолчанию: |1 200|). * |base-scale <длина изображения> <реальная длина>| = если установлено, Therion будет масштабировать карту с коэффициентом (|scale/base-scale|). Это имеет такой же эффект, как если бы карта, распечатанная в |base-scale|, была бы масштабирована к |scale|. (M, A). * |rotate <значение>| = вращает карту (M, A; по умолчанию: |0|). * |units <metric/imperial>| = установить единицы измерения (M, A; по умолча\-нию: |metric|). * |symbol-set <набор символов>| = использование |набора символов| для всех символов карты, если они доступны. Помните, что имя набора символов чувстви\-тельно к регистру. (M, A). 

Therion использует следующие предопределенные наборы символов:\par UIS (Международный союз спелеологии)\par ASF (Австралийская спелеологическая федерация)\par AUT (Австрийская спелеологическая ассоциация)\par CCNP (Национальный парк Карлсбадских пещер)\NEW{5.4}\par NZSS (набор символов Новой Зеландии)\NEW{5.4}\par SKBB (спелеоклуб Bansk{\my \'a} Bystrica). 

* {\rightskip 0cm minus 4pt |symbol-assign <point/line/area/group/special> <тип символа> <набор|\break |символов>| = отобра\-жение определенного символа в заданном наборе сим\-волов. Этот опция переопределяет опцию |symbol-set|.\par} 

Если символ имеет подтип, аргумент |<тип символа>| может иметь одну из следующих форм: |тип:подтип| или просто |тип|, который присваивает новый набор символов всем подтипам данного символа. 

Следующие символы не могут использоваться с этой опцией: точечный {\it section} (который вообще не отображается) и все точечные и линейные надписи ({\it label}, {\it remark}, {\it altitude}, {\it height}, {\it passage-height}, {\it station-name}, {\it date}). Смотрите главу {\it Изменение макета/Настройка текстовых меток}, чтобы узнать, как изменить внешний вид надписей. (M, A). 

Группа (group) может быть одной из следующих: all (все), centerline (нитка хода), sections (сечения), \NEW{5.3}water (вода), speleothems (спелеотемы), passage-fills (рельеф хода), \NEW{5.4} ice (лед), sediments (отложения), equipment (оборудова\-ние). 

Есть два специальных символа: north-arrow (стрелка на север), scale-bar (шкала масштаба). 

* |symbol-hide <point/line/area/group/special> <тип символа>| = не отобра\-жать конкретный символ или группу символов. 

Вы можете использовать |group cave-centerline|, |group surface-centerline|,\break |point cave-station|, |point surface-station| и \NEW{5.4}|group text| в командах |symbol-hide| и |symbol-show|. 

Используйте |flag:<entrance/continuation/sink/spring/doline/dig>| как |<тип символа>| чтобы скрыть станции с определенными флагами (например, |symbol-hide point flag:entrance|). 

Может комбинироваться с |symbol-show|. (M, A). * |symbol-show <point/line/area/group/special> <тип символа>| = отображать определен\-ный символ или группу символов. Может комбинироваться с |symbol-hide|. (M, A). 

* \NEW{5.3}|symbol-colo[u]r <point/line/area/group/special> <тип символа> <цвет>| = изменить цвет конкретного символа или группы символов\[Примечание: изменение цвета в настоящее время применяется к заполнению шаблона только в том случае, если (1) формат вывода PDF и (2)~\MP\ версия не ниже 1.000.]. (M, A). 

* \NEW{5.4.1}|min-symbol-scale <масштаб>| = определить минимальный |<масштаб>|, при кото\-ром точечные и линейные символы отображаются на карте. Напри\-мер, при опции |min-symbol-scale M| никакие точечные или линейные сим\-волы при масштабе |S| и |XS| не будут показаны на карте. |<Масштаб>| имеет тот же формат, что и |масштаб| для точечных и линейных символов. 

* \NEW{5.4.1}|fonts-setup <tinysize> <smallsize> <normalsize> <largesize> <hugesize>| = указать размер текста в точечных символах. |<normalsize>| применяется к точечному символу `подпись', |<smallsize>| к `заметке' и всем другим точечным текстовым символам. Каждый из этих размеров может приме\-няться к строковому текстовому символу в соответствии с ее опцией |-size|. 

По умолчанию: |8 10 12 16 24| для шкал до 1:100; |7 8 10 14 20| для шкал до 1:200; |6 7 8 10 14| для шкал до 1:500 и |5 6 7 8 10| для шкал менее 1:500. 

{\it Относящиеся к макету страницы:}\Nobreak 

* |size <ширина> <высота> <единицы>| = задает размер карты в режиме атласа. Если не указано, то размер будет рассчитан по |page-setup| и |overlap|. В режиме карты применяется, если |page-grid| установлен в |on| (M, A; по умолчанию: |18 22,2 см|). * |overlap <значение> <единицы>| = установить размер перекрытия в единицах в режиме атласа или поля карты в режиме карты (M, A; по умолчанию: |1 см|). * |page-setup <размеры> <единицы>| = установить размеры страницы в таком порядке: ширина бумаги, высота бумаги, ширина страницы, высота страницы, левое поле и верхнее поле. Если не указано, то размеры будут вычислены из |size| и |overlap| (A; по умолчанию: |21 29,7 20 28,7 0,5 0,5 см|). * |page-numbers <on/off>| = включить/выключить нумерацию страниц (A; по умолчанию: |on|). * |exclude-pages <on/off> <список>| = исключить указанные страницы из атласа. Список может содержать номера страниц, разделенные запятой или тире (для интервалов), например, |2,4-7,9,23| означает, что страницы 2, 4, 5, 6, 7, 9 и 23 должны не выводиться. Только страницы карты должны подсчитываться. (Установите |own-pages 0| и |title-pages off| чтобы получить корректные номера страниц после исключения.) Изменения опций |own-pages| или |title-pages| не влияют на исключение страниц. (A) * |title-pages <on/off>| = turn on/off title pages before each atlas chapter (A; default: |off|) * |nav-factor <factor>| = set atlas navigator zoom factor (A; default: |30|) * |nav-size <x-size> <y-size>| = set number of atlas pages in both directions of navigator (A; default: |2 2|) * |transparency <on/off>| = set transparency for the passages (underlying passages are also visible) (M, A; default: |on|) * |opacity <value>| = set opacity value (used if |transparency| is |on|). Value range is 0--100. (M, A; default: |70|) * |surface-opacity <value>| = set the surface bitmap opacity (used if |transparency| is |on|). Value range is 0--100. (M, A; default: |70|) * |surface <top/bottom/off>| = set the position of the surface bitmap above/below the map. (M, A; default: |off|) * |sketches <on/off>| = turn on/off displaying of morphed sketch bitmaps. (M, A; default: |off|) * |layers <on/off>| = enable/disable PDF~1.5 layers (M, A; default: |on|) * |grid <off/bottom/top>| = enable/disable grid (optionally coordinates' values may be also displayed) (M, A; default: |off|) * |cs <coordinate system>| = coordinate system for |origin| and |grid-origin| * |north <true/grid>| = specify default orientation of the map. By default, true (astronomical) north is used. It is ignored when used with local coordinate system. * |grid-origin <x> <y> <x> <units>| = set coordinates of grid origin (M, A) * |grid-size <x> <y> <z> <units>| = set grid size in real units (M, A; default is equal to scalebar size) * |grid-coords <off/border/all>| = specify where to label grid with coordinates. (M, A; default: |off|) * |origin <x> <y> <z> <units>| = set origin of atlas pages (M, A) * |origin-label <x-label> <y-label>| = set label for atlas page which has the lower left corner at the given origin coordinates. May be either a number or a character. (M, A; default: |0 0|) * |own-pages <number>| = set number of own pages added before the first page of automatically generated pages in atlas mode (currently required for correct page numbering) (A; default: |0|) * |page-grid <on/off>| = show pages key plan (M; default: |off|) 

{\it map legend related:}\Nobreak 

* |map-header <x> <y> <off/n/s/e/w/ne/nw/se/sw/center>| = print map header at location specified by |<x> <y>|. Predefined map header contains some basic information about cave: name, scale, north arrow, list of surveyors etc. It is fully customizable (see the chapter {\it Changing layout} for details). |<x>| is easting (left-right on page). |<y>| is northing (up/down page). Ranges for |<x>| and |<y>| are -100--200. Lower-left corner of the map is |0 0|, upper-right corner is |100 100|. The header is aligned with the specified corner or side to this anchor point. (M; default: |0 100 nw|) * |map-header-bg <on/off>| = when on, background of map header is filled with background color (e.g.~to hide map grid). (M; default: off) * |map-image <x> <y> <n/s/e/w/ne/nw/se/sw/center> <filename>| = include image specified by |<filename>| into map at location specified by |<x> <y>|. For coordinates and alignment details, see |map-header| specification. * |legend-width <n> <units>| = legend width (M, A; default: |14 cm|) * |legend <on/off/all>| = display list of used map symbols in the map header. If set to |all|, all symbols from the current symbol set are displayed. (M, A; default: |off|) * |colo[u]r-legend <on/off>| = turn on/off legend of map-fg colours when map-fg is set to altitude, scrap or map (M, A) * |legend-columns <number>| = adjusts the number of legend columns (M, A; default: |2|) * |map-comment <string>| = optional comment displayed at the map header (M) * |statistics <explo/topo/carto/copyright all/off/number>| or * |statistics <explo/topo-length on/hide/off>| = display some basic statistics; if set to off, team members are sorted \NEW{5.4}alphabetically; otherwise according to their contribution to exploration and surveying (M, A; default: |off|) * |scale-bar <length> <units>| = set the length of the scale-bar (M, A) * |language <xx[_YY]>| = set output language. Available languages are listed on the copyright page. See the {\it Appendix} if you want to add or customize translations. (M, A) * |colo[u]r <item> <colour>| = customize colour for special map items (map-fg, map-bg, preview-above, preview-below, label). Colour range is 0--100 for grayscale, [0--100 0--100 0--100] triplet for RGB colours. 

For |map-fg|, you can use |altitude|, |scrap| or |map| as colours. In this case the map is coloured according to altitude, scraps or maps. 

For |map-bg|, you can use |transparent| to omit page background completely. 

For labels, you can switch colour |on/off|. If |on|, labels are coloured using the colour of associated scrap. 

* |debug <on/all/first/second/scrap-names/station-names/off>| = draw scrap in different stages of transformation in different colours to see how Therion distorts map data. See the description of |scrap| command for details. The points with distance changed most during transformation are displayed orange. If |scrap-names| is specified, scrap names are shown for each scrap, |station-names| displays name of each survey station. * |survey-level <N/all>| = |N| is the number of survey levels displayed next to the station name (M, A; default: |0|). 

{\it PDF related:}\Nobreak 

* |doc-author <string>| = set document author (M, A) * |doc-keywords <string>| = set document keywords (M, A) * |doc-subject <string>| = set document subject (M, A) * |doc-title <string>| = set document title (M, A) 

{\it customization:}\Nobreak 

* |code <metapost/tex-map/tex-atlas>| = Add/redefine \TeX\ and \MP\ macros here. This allows user to configure various things (like user defined symbols, map and atlas layout at one place \&c.) See the chapter {\it Changing layout} for details. * |endcode| = should end the TeX\ and \MP\ sections \endcomopt

\midinsert

%  \ifx\pdfoutput\undefined\else
%    \pdfximage {pic/page.pdf}%
%  \fi
%  \vbox to 482bp{\centerline{\hbox to 400bp{%
%    \ifx\pdfoutput\undefined
%      \epsfbox{mp/page.1}%
%    \else
%      \rlap{\pdfrefximage\pdflastximage}%
%      \convertMPtoPDF{mp/page.1}{1}{1}
%    \fi
%    \hss}}\vss
%  }
\vbox to 482bp{\centerline{\hbox to 400bp{ \rlap{\pic{page.pdf}} \MPpic{page.1} \hss}}\vss } \endinsert

%%
\subsubchapter `setup3d'. 

\syntax

\list

* |setup3d <value>| \endlist

\endsyntax

\NEW{5.3}Temporary hack to set sampling distance in meters when generating piecewise linear 3d model from passage walls made of B\'ezier curves. 

\subsubchapter `sketch-colors'. 

\syntax

\list

* |sketch-colors <number-of-colors>| \endlist

\endsyntax

\NEW{5.4} This option can be used to reduce size of sketch bitmap images in maps. 

\subsubchapter `export'. 

\description

Exports selected surveys or maps. \enddescription

\syntax

\list

* |export <type> [OPTIONS]| \endlist

\endsyntax

\arguments

* |<type>| = The following export types are supported: 

|model| = 3D model of the cave 

|map| = one page 2D map 

|atlas| = 2D atlas in more pages 

|cave-list| = summary table of caves 

|survey-list| = summary table of surveys 

|continuation-list| = list of possible continuations 

|database| = SQL database with centreline \endarguments

\penalty0 

\options

{\it common:}\Nobreak * |encoding/enc <encoding>| = set output encoding * |output/o <file>| = set output file name. If no file name is given the prefix ``|cave.|'' is used with an extension corresponding to output format. 

If the output filename is given and no output format is specified, the format is determined from the filename extension. 

{\it model:}\Nobreak 

* |format/fmt <format>| = set model output format. Currently the following output formats are supported: |loch| (native format; default), |compass| (plt file), |survex| (3d file), |dxf|, |esri| (3d shapefiles), |vrml|, |3dmf| and |kml| (Google Earth). * |enable <walls/[cave/surface-]centerline/splay-shots/surface/all>| and * |disable <walls/[cave/surface-]centerline/splay-shots/surface/all>| = \hfil\break selects which features to export, if the format supports it. Surface is currently exported in |therion| format only. * |wall-source <maps/centerline/all>| = set source data for passage wall modeling. 

{\it map/atlas:}\Nobreak 

* |format/fmt <format>| = set map format. Currently |pdf|, |svg|, |xhtml|\[SVG embedded in XHTML file which contains also legend], |survex|, |dxf|, |esri|\[ESRI shapefiles. Multiple files are written to a directory with the specified filename.], |kml| (Google Earth), |xvi|\[Xtherion vector image. XVI images may be used in xtherion to draw in-scale maps. Scale (100\,DPI image resolution is assumed) and grid-size from layout are used in export.] and \NEW{5.3}|bbox|\[Text file containing geographic coordinates of lower-left and upper-right corners of the map area.] for map; |pdf| for atlas are supported. * |projection <id>| = unique identifier that specifies the map projection type. (See the |scrap| command for details.) 

If there is no map defined, all scraps in the given projection are exported. 

If there are no scraps with the specified projection then Therion will display centreline from selected surveys. * |layout <id>| = use predefined map or atlas layout. * |layout-xxx| = where |xxx| stands for other layout options. Using this you can change some layout properties directly within the export command. * |encoding/enc <encoding>| = set output encoding 

{\it common for lists:}\Nobreak 

* |format/fmt <format>| = set continuation output format. Currently the following output formats are supported: |html| (default), |txt|, \NEW{5.4}|kml|\[For cave-list and continuation-list.] and |dbf|. 

{\it continuation-list:}\Nobreak 

* |attributes <(on)/off>| = set whether to export user defined attributes in continuation list table. * \NEW{5.3}|filter <(on)/off>| = set whether continuations without comment/text should be filtered out. 

{\it cave-list:}\Nobreak 

* |location <on/(off)>| = set whether to export coordinates of cave entrances in the table. * \NEW{5.3}|surveys (on)/off| = exports raw list of caves when set |off|. Otherwise survey structure with aggregated ststistics is also displayed. 

{\it database:}\Nobreak 

* |format/fmt <format>| = currently |sql| and |csv| * |encoding/enc <encoding>| = set output encoding \endoptions

{\it File formats summary:} \nobreak\medskip \bgroup

\leavevmode\kern1em\vbox{\advance\hsize-1em\halign{#\hfil\quad&#\hfil\cr {\it export type}&{\it available formats}\cr\noalign{\smallskip\hrule\smallskip} model &loch, dxf, esri, compass, survex, vrml, 3dmf, kml\cr map &pdf, svg, xhtml, dxf, esri, survex, xvi, kml, \NEW{5.3}bbox\cr atlas &pdf\cr database &sql, \NEW{5.4}csv\cr lists &html, txt, kml, dbf\cr}}\egroup 

\subchapter Running Therion. 

Now, after mastering data and configuration files, we're ready to run Therion. Usually this is done from the command line in the data directory by typing 

|therion| 

The full syntax is 

|therion [-q] [-L] [-l <log-file>] [-s <source-file>] [-p <search-path>] [-b/--bezier] [-d] [-x] [--use-extern-libs] [<cfg-file>]| 

or 

|therion [-h/--help] [-v/--version] [--print-encodings] [--print-environment] [--print-init-file] [--print-library-src] [--print-symbols] [--print-tex-encodings] [--print-xtherion-src]| 

\penalty-200 \arguments

|<cfg-file>| Therion takes only one optional argument: the name of a configuration file. If no name is specified |thconfig| in the current directory is used. If there is no |thconfig| file (e.g.~current directory is not a data directory), Therion exits with an error message. \endarguments

\options

* |-d| = Turn on debugging mode. The current implementation creates a temporary directory named |thTMPDIR| (in your system temporary directory) and does not delete any temporary files. 

%* |-g| =
%  Using this option you can generate a new configuration file.
%  If |cfg-file| is not specified therion will use the |thconfig|
%  file. If the destination file exists, it'll be overwritten.
%  Generate a new configuration file. This will be the given 
%  |<cfg-file>| if specified, or |thconfig| in the current directory if not. 
%  If the file already exists, it will be overwritten.
%        
* |-h, --help| = Display short help. 

%* |-i| =
%        Ignore comments when writing |-g| or |-u| configuration file.
%
* |-L| = Do not create a log-file. Normally therion writes all the messages into a therion.log file in the current directory. 

* |-l <log-file>| = Change the name of the log file. 

* |-p <search-path>| = This option is used to set the search path (or list of colon-separated paths) which therion uses to find its source files (if it doesn't find them in the working directory). 

* |-q| = Run therion in quiet mode. It will print only warning and error messages to STDERR. 

* |--print-encodings| = Print a list of all supported input encodings. 

* |--print-tex-encodings| = Print a list of all supported encodings for PDF output. 

* |--print-init-file| = Print a default initialization file. For more details see the {\it Initialization} section in the {\it Appendix}. 

* |--print-environment| = Print environment settings for therion. 

* |--print-symbols| = Print a list of all therion supported map symbols in |symbols.xhtml| file. 

* |-s <source-file>| = Set the name of the source file. 

%* |-u| =
%        Upgrade the configuration file.
%
* |--use-extern-libs| = Don't copy \TeX\ and \MP\ macros to working directory. \TeX\ and \MP\  should search for them on their own. Use with caution. 

* |-v, --version| = Display version information. 

* |-x| = Generate file `.xtherion.dat' with additional information for XTherion. \endoptions

\subsubchapter XTherion---compiler. 

XTherion makes it easier to run Therion especially on systems without a command line prompt. Compiler window is the default window of XTherion. To run Therion it's enough to open a configuration file and press `F9' or `Compile' button. 

XTherion displays messages from Therion in the lower part of the screen. Each error message is highlighted and is hyperlinked to the source file where the error occurred. 

After a first run there are activated additional menus {\it Survey structure} and {\it Map structure}. User may comfortably select a survey or map for export by double clicking on some of the items in the tree. Simple click in the {\it Survey structure} tree displays some basic information about the survey in the {\it Survey info} menu. 

\endinput

