<html>
<head>
<title>Question marks handling</title><link href="index.css" rel="styleSheet" type="text/css">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<center>
<table width="640" border="0" cellspacing="0" cellpadding="0">
<tr>
<td>

<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="33%" align="left">
<a href="40.html"><font class="nav">|Previous|</font></a>
</td>
<td width="34%" align="center"><a href="index.html"><font class="nav">|Contents|</font></a></td>
<td width="33%" align="right">
<a href="80.html"><font class="nav">|Next|</font></a>
</td>
</tr>
</table>
<hr noshade color="#000" size="1" width="100%"/>
<h1>Question marks handling</h1>
<p>
 Possible continuations are treated special way in therion
 in both centerline and map files. You may associate text
 description, explored length (behind this continuation)
 or any other atribute to it (like Code if you have your
 own coding standard for continuations).
</p>
<a name="0"></a><h2>Question marks in centerline</h2>
<p>
 In the centerline object, you may add a special flags to the station,
 where continuation is possible. Just use following syntax
</p>
<pre class="code">
station 5 "pit" continuation attr Code V explored 20m
</pre>
<p>
 When you export map and use
</p>
<pre class="code">
symbol-show point flag:continuation
</pre>
<p>
 in your layout, station with continuation flag specified
 is marked by question mark (continuation
 symbol is shown above the station).
</p>
<p>
<a href="000027-map1.pdf"><img border="1" src="000027.png"/></a>
</p>
<p>
 You may redefine continuation symbol to show also
 continuation description (stored in <code>_text</code> 
 attribute) using following layout code
</p>
<pre class="code">
code metapost
  def p_continuation(expr pos,theta,sc,al) =
  
    % draw default continuation symbol
    p_continuation_UIS(pos,theta,sc,al);

    % if text attribute is set
    if known(ATTR__text) and picture(ATTR__text):
    
      % set labeling color to light orange
      push_label_fill_color(1.0, 0.9, 0.8);   
      
      % draw filled label with text next to ?
      p_label.urt(ATTR__text,(.5u,-.25u) transformed T,0.0,8);      
      
      % restore original labeling color
      pop_label_fill_color;                   
      
    fi;
  enddef;
endcode
</pre>
<p>
 Then also continuation description is displayed in the map.
</p>
<p>
<a href="000028-map2.pdf"><img border="1" src="000028.png"/></a>
</p>
<a name="1"></a><h2>Question marks in maps</h2>
<p>
 In the scrap (.th2 file), you can use <code>-text</code>, <code>-code</code>
 and <code>-explored</code> options to continuation symbol.
</p>
<pre class="code">
point 796.0 676.0 continuation -attr Code A -explored 50m \
    -text "water too cold to continue survey"
</pre>
<p>
 In the map, also the question marks only are displayed by default.
</p>
<p>
<a href="000029-map3.pdf"><img border="1" src="000029.png"/></a>
</p>
<p>
 When you redefine continuation symbol as mentioned above, 
 you can show also continuation codes and descriptions.
</p>
<p>
<a href="000030-map4.pdf"><img border="1" src="000030.png"/></a>
</p>
<a name="2"></a><h2>Exporting question mark lists</h2>
<p>
 You may also export a list of all continuations from your project
 project using
</p>
<pre class="code">
export continuation-list -o questions.html
</pre>
<p>
 File questions.html then contains following list:
</p>
<table class="htmlinput">
<tr class="htmlinput"><th class="htmlinput" align="left">Comment</th><th class="htmlinput" align="right">Explored</th><th class="htmlinput" align="left">Survey</th><th class="htmlinput" align="right">Station</th><th class="htmlinput" align="left">Code</th></tr>
<tr class="htmlinput" id=""><td class="htmlinput" align="left">water too cold to continue survey</td><td class="htmlinput" align="right">50.0</td><td class="htmlinput" align="left">Sample cave</td><td class="htmlinput" align="right">7</td><td class="htmlinput" align="left">A</td></tr>
<tr class="htmlinput" id=""><td class="htmlinput" align="left">strong wind from breakdown</td><td class="htmlinput" align="right">&nbsp;</td><td class="htmlinput" align="left">Sample cave</td><td class="htmlinput" align="right">3</td><td class="htmlinput" align="left">B</td></tr>
<tr class="htmlinput" id=""><td class="htmlinput" align="left">pit</td><td class="htmlinput" align="right">20.0</td><td class="htmlinput" align="left">Sample cave</td><td class="htmlinput" align="right">5</td><td class="htmlinput" align="left">V</td></tr>
</table><p></p>

<hr noshade color="#000" size="1" width="100%"/>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="33%" align="left">
<a href="40.html"><font class="nav">|Previous|</font></a>
</td>
<td width="34%" align="center"><a href="index.html"><font class="nav">|Contents|</font></a></td>
<td width="33%" align="right">
<a href="80.html"><font class="nav">|Next|</font></a>
</td>
</tr>
</table>
</td>
</tr>
</table>
</center>
</body></html>
